org: myorgluis

service: reservas

provider:
  name: aws
  runtime: nodejs20.x
  region: us-east-1
  stage: ${opt:stage, 'local'}
  environment:
    TABLE_NAME: reservas-table-local
    AWS_REGION: us-east-1
    AWS_ENDPOINT_URL: http://localhost:4566
    IS_OFFLINE: true

plugins:
  - serverless-offline

functions:
  ping:
    handler: src/interfaces/http/ping.handler
    events:
      - httpApi:
          path: /ping
          method: get
  getBooking:
    handler: src/interfaces/http/get-booking.handler
    events:
      - httpApi:
          path: /bookings/{id}
          method: get
  postBookings:
    handler: src/interfaces/http/post-bookings.handler
    events:
      - httpApi:
          path: /bookings
          method: post
  listByRoomDate:
    handler: src/interfaces/http/list-by-room-date.handler
    events:
      - httpApi:
          path: /rooms/{roomId}/bookings
          method: get
  deleteBooking:
    handler: src/interfaces/http/delete-booking.handler
    events:
      - httpApi:
          path: /bookings/{id}
          method: delete          